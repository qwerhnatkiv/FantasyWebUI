<link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet" />
<link
  href="https://fonts.googleapis.com/icon?family=Material+Icons"
  rel="stylesheet"
/>

<header-menu
  [updateLogInformation]="updateLogInformation"
  (calendarVisibilityUpdated)="updateCalendarVisibility($event)"
>
</header-menu>

<section class="calendar-container" tabindex="0" [hidden]="isCalendarHidden">
  <app-calendar-table
    [games]="games"
    [teamStats]="teamStats"
    [teamPlayerExpectedOfoMap]="teamPlayerExpectedOfoMap"
  ></app-calendar-table>
</section>

<app-players-filters
  (sendLowerBoundPrice)="lowerBoundPrice = $event"
  (sendUpperBoundPrice)="upperBoundPrice = $event"
  (sendPositions)="positions = $event"
  (sendTeams)="teams = $event"
  (sendPowerPlayUnits)="powerPlayUnits = $event"
  (sendSelectedUser)="selectedUser = $event"
  [firstChoiceOfo]="firstChoiceOfo"
  [secondChoiceOfo]="secondChoiceOfo"
  (sendPlayersAreNotPlayedDisabled)="playersAreNotPlayedDisabled = $event"
  (sendHideLowGPPlayersEnabled)="hideLowGPPlayersEnabled = $event"
  (sendFormLength)="formLengthChanged($event)"
></app-players-filters>

<section class="players-configuration-section">
  <app-players-table
    [lowerBoundPrice]="lowerBoundPrice"
    [upperBoundPrice]="upperBoundPrice"
    [positions]="positions"
    [teams]="teams"
    [powerPlayUnits]="powerPlayUnits"
    [playerStats]="playerStats"
    [teamStats]="teamStats"
    [filteredTeamGames]="filteredTeamGames"
    [playerGamesOfoMap]="playerGamesOfoMap"
    (sendFirstChoiceOfo)="firstChoiceOfo = $event"
    (sendSecondChoiceOfo)="secondChoiceOfo = $event"
    (sendAddedToSquadPlayer)="addedToSquadPlayer = $event"
    [playersAreNotPlayedDisabled]="playersAreNotPlayedDisabled"
    [hideLowGPPlayersEnabled]="hideLowGPPlayersEnabled"
    [formLength]="formLength"
    [positionsInSquadAvailable]="squadAvailableSlots!"
  ></app-players-table>
  <div class="user-team-block">
    <app-players-squad
      [(squadPlayers)]="squadPlayers"
      [balanceValue]="balanceValue"
      [substitutions]="substitutionsLeft"
      (sendAvailableSlots)="squadAvailableSlots = $event"
      [teamStats]="teamStats"
      [filteredTeamGames]="filteredTeamGames"
      [playerGamesOfoMap]="playerGamesOfoMap"
    ></app-players-squad>
  </div>
</section>

<ngx-ui-loader></ngx-ui-loader>
